olaresManifest.version: '0.9.0'
olaresManifest.type: app

metadata:
  name: {{metadata.name}}
  appid: {{metadata.appid}}
  title: {{metadata.title}}
  description: {{metadata.description}}
  icon: {{metadata.icon}}
  version: {{metadata.version}}
  categories:
    - {{metadata.category}}

entrances:
{{#each ports}}
{{#if entrance.enabled}}
  - name: {{name}}
    host: {{../metadata.name}}
    port: {{containerPort}}
    title: {{entrance.title}}
    authLevel: {{entrance.authLevel}}
{{/if}}
{{/each}}

permission:
  appData: {{storage.appData.enabled}}
  appCache: {{storage.appCache.enabled}}

spec:
  versionName: '{{metadata.version}}'
  fullDescription: |
    {{metadata.descriptionLong}}

  requiredMemory: {{resources.requests.memory}}
  requiredDisk: {{#if storage.pvc.enabled}}{{storage.pvc.size}}{{else}}512Mi{{/if}}
  requiredCpu: {{resources.requests.cpu}}
  limitedMemory: {{resources.limits.memory}}
  limitedCpu: {{resources.limits.cpu}}

options:
  dependencies:
    - name: terminus
      version: ">=1.6.0-0"
      type: system
